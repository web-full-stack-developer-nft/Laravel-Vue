(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{42:function(t,e,s){"use strict";s.r(e);var n=s(48),a=s.n(n),r=s(1),o=s.n(r),i=s(6);function u(t,e,s,n,a,r,o){try{var i=t[r](o),u=i.value}catch(t){return void s(t)}i.done?e(u):Promise.resolve(u).then(n,a)}function c(t){return function(){var e=this,s=arguments;return new Promise((function(n,a){var r=t.apply(e,s);function o(t){u(r,n,a,o,i,"next",t)}function i(t){u(r,n,a,o,i,"throw",t)}o(void 0)}))}}function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function d(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var p={middleware:"auth",name:"two-lists",display:"Two Lists",order:1,components:{draggable:a.a},data:function(){return{comment:"",status:[],statu1:[],status_id:0,isadd:!1,element:[],singletask:[]}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(Object(s),!0).forEach((function(e){d(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(i.b)({authuser:"auth/user"}),{reverseItems:function(){return this.singletask.comments.slice().reverse()}}),methods:{createcommment:function(t){var e=this;return c(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(13!==t.keyCode){s.next=5;break}return e.singletask.comments.push({comment:e.comment,user:e.authuser}),s.next=4,o.a.post("api/comment",{user_id:e.authuser.id,task_id:e.singletask.id,comment:e.comment});case 4:e.comment="";case 5:case"end":return s.stop()}}),s)})))()},fetchstatus:function(t){var e=this;return c(regeneratorRuntime.mark((function s(){var n,a;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,o.a.get("api/tasks/"+t);case 2:n=s.sent,a=n.data,e.singletask=a,console.log(a),e.$refs.modal.show();case 7:case"end":return s.stop()}}),s)})))()},addPeople:function(t){console.log(),this.isadd=t},submit:function(t){var e=this;console.log(this.status),console.log(t.target.value.length),t.target.value.length>3&&(console.log(this.isadd),o.a.post("api/tasks",{status_id:this.isadd,task_name:t.target.value}).then((function(t){e.status.find((function(e){e.id==t.data.status_id&&e.tasks.push(t.data)})),console.log(t.data)})),this.isadd=!1)},abc:function(t){console.log(t)},add:function(t){o.a.post("api/taskupdata",{task_id:this.element.element.id,status_id:t}).then((function(t){console.log(t)}))},replace:function(){this.list=[{name:"Edgard"}]},clone:function(t){return{name:t.name+" cloned"}},log:function(t){if(null!=t.added)this.element=t.added;else if(t.moved){var e=t.moved.element.status_id,s=this.status.findIndex((function(t){return t.id===e})),n=this.status[s].tasks[t.moved.newIndex-1]?this.status[s].tasks[t.moved.newIndex-1].pos:0,a=this.status[s].tasks[t.moved.newIndex+1]?this.status[s].tasks[t.moved.newIndex+1].pos:this.status[s].tasks[t.moved.newIndex].pos+1;o.a.post("api/posupdata",{task_id:this.status[s].tasks[t.moved.newIndex].id,pos:(n+a)/2}).then((function(t){console.log(t)}))}}},created:function(){var t=this;o.a.get("api/status").then((function(e){t.status=e.data}))}},m=s(0);var v=function(t){s(67)},f=Object(m.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vue-scroll",[s("div",{staticClass:"flex px-4 pb-8 items-start"},t._l(t.status,(function(e){return s("div",{staticClass:"rounded shadow p-2 flex-no-shrink w-auto p-2 mr-3",staticStyle:{"min-width":"293px!important"}},[s("div",{staticClass:"flex justify-between py-1"},[s("h3",{staticClass:"text-sm"},[t._v(t._s(e.name))]),t._v(" "),s("svg",{staticClass:"h-4 fill-current text-grey-dark cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[s("path",{attrs:{d:"M5 10a1.999 1.999 0 1 0 0 4 1.999 1.999 0 1 0 0-4zm7 0a1.999 1.999 0 1 0 0 4 1.999 1.999 0 1 0 0-4zm7 0a1.999 1.999 0 1 0 0 4 1.999 1.999 0 1 0 0-4z"}})])]),t._v(" "),s("vue-scroll",[s("div",{staticClass:"fixed-height"},[s("draggable",{staticClass:"list-group",attrs:{list:e.tasks,group:"statu.tasks"},on:{add:function(s){return t.add(e.id)},change:t.log}},t._l(e.tasks,(function(e,n){return s("div",{key:e.id,staticClass:"bg-white p-2 rounded mt-1 border-b border-grey cursor-pointer hover:bg-grey-lighter",on:{click:function(s){return t.fetchstatus(e.id)}}},[t._v("\r\n\t\t\t\t\t\t\t"+t._s(e.name)+"\r\n\t\t\t\t\t\t")])})),0)],1)]),t._v(" "),t.isadd==e.id?s("div",[s("textarea",{staticClass:"form-control",attrs:{name:"",id:"",cols:"30",rows:"2"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}}})]):t._e(),t._v(" "),s("button",{staticClass:"btn btn-block btn-success",attrs:{slot:"footer"},on:{click:function(s){return t.addPeople(e.id)}},slot:"footer"},[t._v("Add")])],1)})),0),t._v(" "),t.singletask?s("t-modal",{ref:"modal",staticClass:"curdmodel"},[s("p",[t._v("IT Lab Solutions Ltd")]),t._v(" "),s("hr"),t._v(" "),s("h2",{staticClass:"text-indigo-500"},[s("div",{staticClass:"dropdown inline-block relative"},[s("svg",{staticClass:"fill-current h-4 w-4 inline",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"}},[s("path",{attrs:{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"}})]),t._v(t._s(t.singletask.title)+"\r\n\t\t    "),s("ul",{staticClass:"dropdown-menu absolute hidden text-gray-700 pt-1"},t._l(t.status,(function(e){return s("li",{on:{click:function(s){return t.statusupdate(e.id)}}},[s("a",{staticClass:"rounded-t bg-gray-200 hover:bg-gray-400 py-2 px-4 block whitespace-no-wrap",attrs:{href:"#"}},[t._v(t._s(e.name))])])})),0)])]),t._v(" "),t.singletask.issue_type?s("p",[t._v(" Type : "+t._s(t.singletask.issue_type.name))]):t._e(),t._v(" "),t.singletask.status?s("p",[t._v("Status : "+t._s(t.singletask.status.name))]):t._e(),t._v(" "),t.singletask.creator?s("p",[t._v("Creator : "+t._s(t.singletask.creator.name))]):t._e(),t._v(" "),s("p",[t._v("Created:  "+t._s(t.singletask.created_at))]),t._v(" "),s("p",[t._v("Details: "+t._s(t.singletask.desc))]),t._v(" "),s("br"),t._v(" "),s("form",{staticClass:"bg-white rounded px-8 pt-6 pb-8 mb-4",on:{submit:function(e){return e.preventDefault(),t.createcommment(e)}}},[s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],staticClass:"w-full t-input t-input-size-default t-input-status-default border block rounded p-2 bg-white",attrs:{type:"text",placeholder:"Comment"},domProps:{value:t.comment},on:{keyup:t.createcommment,input:function(e){e.target.composing||(t.comment=e.target.value)}}})])]),t._v(" "),t.singletask.comments?s("div",t._l(t.reverseItems,(function(e){return s("div",{staticClass:"p-2"},[s("div",{staticClass:"flex"},[s("div",[s("avatar",{attrs:{username:e.user.name,backgroundColor:"#7F9CF5"}})],1),t._v(" "),s("div",{staticClass:"pl-2"},[s("p",[s("span",{staticClass:"font-bold"},[t._v(t._s(e.user.name))]),t._v(" "),s("span",[t._v(t._s(e.created_at))])]),t._v(" "),s("p",{staticClass:"bg-white shadow p-2 bg-gray-100"},[t._v(t._s(e.comment))])])])])})),0):t._e()]):t._e()],1)}),[],!1,v,null,null);e.default=f.exports},67:function(t,e,s){var n=s(68);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,s(14).default)("cdfd57c4",n,!0,{})},68:function(t,e,s){(t.exports=s(13)(!1)).push([t.i,"\n.__vuescroll{\n  height: auto!important;\n}\n.fixed-height{\n  max-height: 70vh;\n}\n.modal-backdrop{\n  opacity: .1!important;\n}\n.curdmodel .overflow-hidden{\n  overflow-y: scroll;\n}\n.multiselect__clear{\n  position: absolute;\n  right: 27px;\n  top: 7px;\n  z-index: 5;\n  cursor: pointer;\n}\n",""])}}]);